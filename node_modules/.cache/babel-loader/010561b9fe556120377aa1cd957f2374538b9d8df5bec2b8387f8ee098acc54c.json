{"ast":null,"code":"const state = {\n  ayantdroits: [],\n  checked: [],\n  numberItems: 50,\n  loader: 10,\n  currentColSorted: \"nom\"\n};\nconst getters = {\n  allAyantdroits: state => state.ayantdroits,\n  allChecked: state => state.checked,\n  numberItems: state => state.numberItems,\n  allLoader: state => state.loader,\n  currentColSorted: state => state.currentColSorted\n};\nconst actions = {\n  async loadAyantdroits({\n    commit\n  }) {\n    commit('fetchLoader', true);\n    const response = await fetch(`http://localhost:3000/AyantDroits?_limit=${state.numberItems}`);\n    await new Promise(resolve => setTimeout(resolve, 4000));\n    const res = await response.json();\n    commit('loadAyantdroits', res);\n    commit('fetchChecked');\n    commit('fetchNumberItems');\n    commit('fetchLoader', false);\n  },\n  sortColumn(field) {\n    commit('sortObjectArray', field);\n  }\n};\nconst mutations = {\n  loadAyantdroits: (state, ayantdroits) => state.ayantdroits = ayantdroits,\n  fetchChecked: state => state.checked = Array(state.ayantdroits.length).fill(false),\n  fetchNumberItems: state => state.numberItems += 50,\n  fetchLoader: function (state, boolLoading) {\n    if (boolLoading && state.numberItems == 50) {\n      state.loader = 10;\n    } else if (boolLoading) {\n      state.loader = 3;\n    } else {\n      state.loader = 0;\n    }\n  },\n  sortObjectArray: function (state, field) {\n    if (currentColSorted == field) {\n      if (allAyantdroits[0][field] < allAyantdroits[0][field]) {\n        state.allAyantdroits.sort((a, b) => b[field] - a[field]);\n        console.log(\"Ascending false\");\n      } else {\n        state.allAyantdroits.sort((a, b) => a[field] - b[field]);\n        console.log(\"Ascending true\");\n      }\n    } else {\n      state.allAyantdroits.sort((a, b) => a[field] - b[field]);\n    }\n  }\n};\nexport default {\n  state,\n  getters,\n  actions,\n  mutations\n};","map":{"version":3,"names":["state","ayantdroits","checked","numberItems","loader","currentColSorted","getters","allAyantdroits","allChecked","allLoader","actions","loadAyantdroits","commit","response","fetch","Promise","resolve","setTimeout","res","json","sortColumn","field","mutations","fetchChecked","Array","length","fill","fetchNumberItems","fetchLoader","boolLoading","sortObjectArray","sort","a","b","console","log"],"sources":["C:/Users/33767/vueApp/vueapp/src/store/modules/table.js"],"sourcesContent":["const state = {\r\n    ayantdroits : [],\r\n    checked :  [], \r\n    numberItems : 50, \r\n    loader : 10,\r\n    currentColSorted : \"nom\"\r\n    \r\n}; \r\n\r\nconst getters  ={\r\n    allAyantdroits : (state) => state.ayantdroits,\r\n    allChecked : (state) => state.checked,\r\n    numberItems : (state) => state.numberItems,\r\n    allLoader : (state) => state.loader,\r\n    currentColSorted : (state) => state.currentColSorted\r\n\r\n};\r\n\r\nconst actions = {\r\n    async loadAyantdroits({commit}){\r\n        commit('fetchLoader', true)\r\n        const response = await fetch(`http://localhost:3000/AyantDroits?_limit=${state.numberItems}`);\r\n        await new Promise(resolve => setTimeout(resolve, 4000));\r\n        const res = await response.json()\r\n        commit('loadAyantdroits', res)\r\n        commit('fetchChecked')\r\n        commit('fetchNumberItems')\r\n        commit('fetchLoader', false)\r\n    }, \r\n\r\n    sortColumn(field){\r\n      commit('sortObjectArray', field)\r\n    }\r\n\r\n};\r\n\r\nconst mutations = {\r\n    loadAyantdroits : (state, ayantdroits) => state.ayantdroits = ayantdroits, \r\n    fetchChecked : (state) => state.checked = Array(state.ayantdroits.length).fill(false),\r\n    fetchNumberItems : (state) => state.numberItems  += 50,\r\n    fetchLoader : function(state, boolLoading) {\r\n        if(boolLoading &&state.numberItems == 50){\r\n            state.loader = 10\r\n        }else if(boolLoading){\r\n            state.loader = 3\r\n        }else{\r\n            state.loader = 0\r\n        }\r\n    }, \r\n    sortObjectArray : function(state, field) {\r\n\r\n        if(currentColSorted == field){\r\n            if(allAyantdroits[0][field] < allAyantdroits[0][field]){\r\n                state.allAyantdroits.sort((a, b) => b[field]-a[field])\r\n                console.log(\"Ascending false\")\r\n            }else{\r\n                state.allAyantdroits.sort((a, b) => a[field]-b[field])\r\n                console.log(\"Ascending true\")\r\n            }\r\n        }else{\r\n        state.allAyantdroits.sort((a, b) => a[field] - b[field])\r\n        }\r\n    }\r\n      };\r\n\r\n\r\n\r\n\r\n\r\nexport default {\r\n    state, \r\n    getters, \r\n    actions, \r\n    mutations, \r\n\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}